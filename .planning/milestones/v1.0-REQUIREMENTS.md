# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-19
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: gsd-ralph

**Defined:** 2026-02-13
**Core Value:** One command takes a GSD-planned phase and produces merged, working code

## v1 Requirements

Requirements for initial release. Each maps to roadmap phases.

### Initialization

- [x] **INIT-01**: User can initialize Ralph integration in any GSD project with `gsd-ralph init`
- [x] **INIT-02**: Tool validates required dependencies are available (git, jq, python3, ralph) with actionable error messages
- [x] **INIT-03**: Tool auto-detects project type (language, test command, build tool) and configures accordingly

### Execution

- [x] **EXEC-01**: User can create an execution environment (branch-based) for a given phase with `gsd-ralph execute N`
- [x] **EXEC-02**: Tool generates context-specific PROMPT.md per worktree from templates
- [x] **EXEC-03**: Tool extracts tasks from GSD XML plan format into fix_plan.md per worktree
- [x] **EXEC-04**: Tool generates .ralphrc per worktree with project-specific configuration
- [x] **EXEC-05**: Tool provides clear instructions for launching Ralph in each worktree
- [x] **EXEC-06**: Tool triggers terminal bell when all plans complete or any plan fails
- [x] **EXEC-07**: Tool handles GSD dual naming conventions (PLAN.md and NN-MM-PLAN.md)

### Merge

- [x] **MERG-01**: User can auto-merge all completed branches for a phase in plan order with `gsd-ralph merge N`
- [x] **MERG-02**: User can review each branch diff before merging with `--review` flag
- [x] **MERG-03**: Tool detects merge conflicts and provides clear resolution guidance
- [x] **MERG-04**: Tool auto-resolves .planning/ conflicts (prefer main's version)
- [x] **MERG-05**: Tool saves pre-merge commit hash and offers rollback on failure
- [x] **MERG-06**: Pre-merge dry-run detects conflicts before attempting the real merge, so the user knows upfront which branches will conflict
- [x] **MERG-07**: Wave-aware merge: when wave N branches are merged, the tool signals the execution pipeline to unblock wave N+1 dependents

### Cleanup

- [x] **CLEN-01**: User can remove all worktrees and branches for a completed phase with `gsd-ralph cleanup N`
- [x] **CLEN-02**: Tool only removes tracked worktrees (registry-driven, not glob-based)

### Cross-Cutting

- [x] **XCUT-01**: Tool works with any GSD project regardless of tech stack

## v2 Requirements

Deferred to future release. Tracked but not in current roadmap.

### Status Monitoring

- **STAT-01**: User can view color-coded status overview of all worktrees for a phase
- **STAT-02**: Tool detects stale/dead agents via heartbeat verification
- **STAT-03**: Tool tracks agent PIDs to verify processes are alive
- **STAT-04**: User can auto-refresh status display with watch mode (`--watch`)

### Peer Visibility (deferred from v1 â€” architecture pivoted to sequential branches)

- **PEER-01**: Ralph instances have full read access to peer worktree contents (source, status, fix_plan)
- **PEER-02**: Generated PROMPT.md includes peer worktree paths and instructions for cross-worktree reads

### Enhanced Execution

- **EEXC-01**: Tool supports dry-run mode (`--dry-run`) showing what would happen without acting
- **EEXC-02**: Tool enforces dependency graph (refuses Phase N if Phase N-1 incomplete)
- **EEXC-03**: Tool shows progress percentage (checked items in fix_plan.md)

### Enhanced Merge

- **EMRG-01**: Tool runs test suite on each branch before merging (pre-merge test run)
- **EMRG-02**: Tool generates merge report showing overlapping files between branches

### Advanced Orchestration

- **ADVO-01**: Tool launches Ralph as background processes with PID management
- **ADVO-02**: User can resume/retry failed plans without touching completed worktrees
- **ADVO-03**: Tool auto-chains phases (`execute --continue` starts next phase when current completes)
- **ADVO-04**: Tool generates structured execution log (EXECUTION_LOG.md with timing, commits, issues)
- **ADVO-05**: Single-command full lifecycle (`execute --auto` composes execute + monitor + merge + cleanup)
- **ADVO-06**: Tool auto-updates STATE.md after merge to reflect phase completion

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature | Reason |
|---------|--------|
| GSD plugin integration | Standalone tool first; integration deferred |
| GUI / web dashboard | Target users are terminal-native; CLI is the right interface |
| OS-level notifications (macOS Notification Center) | Terminal bell is sufficient; no extra deps |
| Custom notification channels (Slack, email) | Terminal only for simplicity |
| Custom LLM provider support | Coupled to Ralph + Claude Code intentionally |
| Interactive plan editing | GSD owns planning; gsd-ralph reads plans, doesn't edit them |
| Task-level parallelism within a plan | Plans execute sequentially; parallelism is at the plan level |
| Agent-to-agent write communication | One-way read visibility only; no cross-worktree writes |
| Plugin/extension system | Premature abstraction; build monolithically first |
| Git hosting integration (PR creation, CI triggers) | Scope ends at local merge; user pushes when satisfied |
| Multi-repo support | Single git repo only |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| INIT-01 | Phase 1 | Complete |
| INIT-02 | Phase 1 | Complete |
| INIT-03 | Phase 1 | Complete |
| EXEC-01 | Phase 3 | Complete |
| EXEC-02 | Phase 2 | Complete |
| EXEC-03 | Phase 2 | Complete |
| EXEC-04 | Phase 2 | Complete |
| EXEC-05 | Phase 3 | Complete |
| EXEC-06 | Phase 6 | Complete |
| EXEC-07 | Phase 2 | Complete |
| MERG-01 | Phase 4 | Complete |
| MERG-02 | Phase 4 | Complete |
| MERG-03 | Phase 4 | Complete |
| MERG-04 | Phase 4 | Complete |
| MERG-05 | Phase 4 | Complete |
| MERG-06 | Phase 4 | Complete |
| MERG-07 | Phase 4 | Complete |
| CLEN-01 | Phase 5 | Complete |
| CLEN-02 | Phase 5 | Complete |
| XCUT-01 | Phase 1 | Complete |

**Coverage:**
- v1 requirements: 20 total (PEER-01, PEER-02 deferred to v2)
- Mapped to phases: 20
- Unmapped: 0

---
*Requirements defined: 2026-02-13*
*Last updated: 2026-02-19 after v1 gap closure (all v1 checkboxes checked, traceability complete)*
