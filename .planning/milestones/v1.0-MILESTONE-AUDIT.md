---
milestone: v1.0
audited: 2026-02-19T18:10:00Z
status: gaps_found
scores:
  requirements: 9/22
  phases: 3/5 verified
  integration: 18/22 wired
  flows: 3/5 complete
gaps:
  requirements:
    - id: "EXEC-06"
      status: "unsatisfied"
      phase: "Phase 3"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "No terminal bell implementation (printf '\\a', tput bel, or equivalent) exists anywhere in lib/, bin/, or scripts/. Phase 3 VERIFICATION.md explicitly flags as 'NOT CLAIMED / NOT IMPLEMENTED — ORPHANED'. Requirement mapped to Phase 3 in REQUIREMENTS.md but neither 03-01 nor 03-02 plan claimed it."
    - id: "PEER-01"
      status: "unsatisfied"
      phase: "Phase 3"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "Phase 3 adopted sequential single-branch model. No peer worktrees exist in this architecture. append_peer_visibility exists in lib/prompt.sh but is only called by the generate debug command, not by execute. Phase 3 VERIFICATION.md flags as 'NOT CLAIMED / NOT APPLICABLE — ORPHANED'."
    - id: "PEER-02"
      status: "unsatisfied"
      phase: "Phase 3"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "orphaned"
      evidence: "Same as PEER-01. PROTOCOL-PROMPT.md.template has no peer worktree section. generate_protocol_prompt_md does not call append_peer_visibility. Architecturally moot in sequential model."
    - id: "INIT-01"
      status: "partial"
      phase: "Phase 1"
      claimed_by_plans: ["01-02-PLAN.md"]
      completed_by_plans: ["01-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "Implementation exists and passes 21 integration tests. Phase 1 VERIFICATION.md is missing (Phase 1 predated GSD verification workflow). REQUIREMENTS.md checkbox unchecked."
    - id: "INIT-02"
      status: "partial"
      phase: "Phase 1"
      claimed_by_plans: ["01-02-PLAN.md"]
      completed_by_plans: ["01-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "check_all_dependencies validates git, jq, python3, ralph with actionable errors. Tested. Phase 1 VERIFICATION.md missing."
    - id: "INIT-03"
      status: "partial"
      phase: "Phase 1"
      claimed_by_plans: ["01-02-PLAN.md"]
      completed_by_plans: ["01-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "detect_project_type covers 13 ecosystems in lib/config.sh. 8 config tests pass. Phase 1 VERIFICATION.md missing."
    - id: "EXEC-01"
      status: "partial"
      phase: "Phase 3"
      claimed_by_plans: ["03-02-PLAN.md"]
      completed_by_plans: []
      verification_status: "passed"
      evidence: "Phase 3 VERIFICATION says 'SATISFIED (with adaptation)' — implemented as single branch instead of worktree-per-plan. SUMMARY frontmatter requirements-completed is empty. REQUIREMENTS.md unchecked. Adaptation is intentional but requirement text not updated."
    - id: "EXEC-02"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-02-PLAN.md"]
      completed_by_plans: ["02-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "generate_prompt_md and generate_protocol_prompt_md both generate PROMPT.md from templates. 12 prompt tests pass. Phase 2 VERIFICATION.md missing."
    - id: "EXEC-03"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-02-PLAN.md"]
      completed_by_plans: ["02-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "extract_tasks_to_fix_plan uses python3 regex to parse GSD XML tasks. Tested. Phase 2 VERIFICATION.md missing."
    - id: "EXEC-04"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-02-PLAN.md"]
      completed_by_plans: ["02-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: ".ralphrc generated by init command (from Phase 1) and generate command (Phase 2). Phase 2 VERIFICATION.md missing."
    - id: "EXEC-05"
      status: "partial"
      phase: "Phase 3"
      claimed_by_plans: ["03-02-PLAN.md"]
      completed_by_plans: []
      verification_status: "passed"
      evidence: "Phase 3 VERIFICATION says 'SATISFIED' — execute.sh prints 'Run ralph to start execution'. But SUMMARY frontmatter requirements-completed is empty."
    - id: "EXEC-07"
      status: "partial"
      phase: "Phase 2"
      claimed_by_plans: ["02-01-PLAN.md"]
      completed_by_plans: ["02-01-SUMMARY.md"]
      verification_status: "missing"
      evidence: "discover_plan_files handles both PLAN.md and NN-MM-PLAN.md via glob. 12 discovery tests pass. Phase 2 VERIFICATION.md missing."
    - id: "XCUT-01"
      status: "partial"
      phase: "Phase 1"
      claimed_by_plans: ["01-02-PLAN.md"]
      completed_by_plans: ["01-02-SUMMARY.md"]
      verification_status: "missing"
      evidence: "detect_project_type handles 13 ecosystems plus 'unknown' fallback. Integration checker confirms wiring. Phase 1 VERIFICATION.md missing."
  integration:
    - from: "execute"
      to: "merge signals (MERG-07 read side)"
      issue: "check_wave_complete is defined in signals.sh but called by zero consumers. Execute does not read merge signals before launching plans. Wave unblocking is write-only infrastructure."
    - from: "execute"
      to: "peer visibility (PEER-01/02)"
      issue: "generate_protocol_prompt_md does not call append_peer_visibility. Peer paths absent from execute's PROMPT.md. Only present in generate debug command."
  flows:
    - flow: "MERG-07 wave unblocking"
      breaks_at: "execute checking merge signals"
    - flow: "Peer visibility in execute path"
      breaks_at: "generate_protocol_prompt_md missing append_peer_visibility call"
tech_debt:
  - phase: "Phase 1 & 2"
    items:
      - "Missing VERIFICATION.md files (phases predated GSD verification workflow)"
      - "Missing YAML frontmatter in Phase 1 SUMMARY (01-02-SUMMARY.md has no frontmatter)"
      - "Missing YAML frontmatter in Phase 2 SUMMARYs (02-01, 02-02 have no frontmatter)"
      - "REQUIREMENTS.md checkboxes unchecked for Phase 1 and 2 requirements despite implementation"
  - phase: "Phase 3"
    items:
      - "SUMMARY frontmatter requirements-completed: [] despite EXEC-01 and EXEC-05 being satisfied"
      - "EXEC-01 requirement text says 'worktree per plan' but implementation is 'single branch' — text not updated"
  - phase: "Phase 5 / Cross-cutting"
    items:
      - ".ralph/worktree-registry.json not gitignored — accidental commit risk with git add -A"
      - "scripts/ralph-execute.sh step 7 references old ralph-cleanup.sh instead of gsd-ralph cleanup"
      - "status command is a stub (die 'Not yet implemented') — advertised in CLI usage but STAT-01 is v2"
      - "worktree_path_for_plan in discovery.sh is orphaned — unused by any command"
---

# Milestone v1.0 Audit Report

**Milestone:** v1.0
**Audited:** 2026-02-19T18:10:00Z
**Status:** gaps_found
**Requirements Score:** 9/22 satisfied | 10/22 partial | 3/22 unsatisfied

## Executive Summary

Phases 3-5 have formal VERIFICATION.md files and show strong implementation quality. Phases 1-2 are missing VERIFICATION.md files entirely (they predated the GSD verification workflow), which forces 10 requirements into "partial" status despite having working implementations with passing tests. Three requirements (EXEC-06, PEER-01, PEER-02) are genuinely unsatisfied — EXEC-06 was never implemented, while PEER-01/PEER-02 were orphaned by the Phase 3 architectural pivot from parallel worktrees to sequential branches.

## Phase Verification Summary

| Phase | VERIFICATION.md | Status | Score | Issues |
|-------|-----------------|--------|-------|--------|
| 1. Project Initialization | MISSING | unverified | — | Phases predated verification workflow |
| 2. Prompt Generation | MISSING | unverified | — | Phases predated verification workflow |
| 3. Phase Execution | Present | human_needed | 5/6 | SC6 requires live Ralph test; 3 orphaned requirements |
| 4. Merge Orchestration | Present | human_needed | 10/10 | 4 items need live environment testing |
| 5. Cleanup | Present | passed | 10/10 | No issues |

## Requirements Coverage (3-Source Cross-Reference)

### Satisfied (9/22)

| REQ-ID | Description | VERIFICATION | SUMMARY FM | REQUIREMENTS.md |
|--------|-------------|--------------|------------|-----------------|
| MERG-01 | Auto-merge in plan order | SATISFIED | listed | [x] |
| MERG-02 | --review flag | SATISFIED | listed | [x] |
| MERG-03 | Conflict guidance | SATISFIED | listed | [x] |
| MERG-04 | Auto-resolve .planning/ | SATISFIED | listed | [x] |
| MERG-05 | Rollback | SATISFIED | listed | [x] |
| MERG-06 | Dry-run detection | SATISFIED | listed | [x] |
| MERG-07 | Wave signaling (write side) | SATISFIED | listed | [x] |
| CLEN-01 | Remove worktrees/branches | SATISFIED | listed | [x] |
| CLEN-02 | Registry-driven only | SATISFIED | listed | [x] |

### Partial (10/22) — Implementation exists, verification gap

| REQ-ID | Description | Phase | Root Cause |
|--------|-------------|-------|------------|
| INIT-01 | Init command | 1 | No VERIFICATION.md, no SUMMARY frontmatter, checkbox unchecked |
| INIT-02 | Dependency validation | 1 | Same — 21 init tests pass, implementation complete |
| INIT-03 | Auto-detect project type | 1 | Same — 8 config tests pass, 13 ecosystems |
| XCUT-01 | Works with any stack | 1 | Same — unknown type fallback works |
| EXEC-02 | Generate PROMPT.md | 2 | No Phase 2 VERIFICATION.md, no SUMMARY frontmatter |
| EXEC-03 | Extract tasks to fix_plan | 2 | Same — 12 prompt tests pass |
| EXEC-04 | Generate .ralphrc | 2 | Same — generated by init and generate commands |
| EXEC-07 | Dual naming conventions | 2 | Same — 12 discovery tests pass |
| EXEC-01 | Execution environment | 3 | Verified with adaptation (branch not worktree), SUMMARY FM empty |
| EXEC-05 | Launch instructions | 3 | Verified as satisfied, SUMMARY FM empty |

**Note:** 8 of 10 partial requirements are due to missing VERIFICATION.md files for Phases 1 and 2. The underlying implementations are complete and tested. Creating retroactive verification reports would resolve these.

### Unsatisfied (3/22)

| REQ-ID | Description | Phase | Root Cause |
|--------|-------------|-------|------------|
| EXEC-06 | Terminal bell on completion/failure | 3 | Zero implementation. Not claimed by any plan. Orphaned in REQUIREMENTS.md → Phase 3 mapping. |
| PEER-01 | Peer worktree read access | 3 | Sequential branch model has no peer worktrees. Requirement inapplicable in current architecture. Orphaned. |
| PEER-02 | Peer paths in PROMPT.md | 3 | Same as PEER-01. append_peer_visibility only called by generate debug command, not execute. |

## Integration Check Results

### Cross-Phase Wiring: 18/22 connected

| Check | Status | Details |
|-------|--------|---------|
| init → generate → execute → merge → cleanup lifecycle | CONNECTED | All 5 commands dispatch correctly via bin/gsd-ralph |
| execute registers branch → cleanup reads registry | CONNECTED | execute.sh:160 → register_worktree; cleanup.sh:77 → list_registered_worktrees |
| execute creates branch → merge discovers branches | CONNECTED | Branch naming convention phase-N/slug consistent |
| merge signals wave completion → execute reads signals | PARTIAL | signal_wave_complete writes JSON; check_wave_complete defined but never called |
| generate per-plan vs execute combined files | NO CONFLICT | Different paths: .ralph/generated/ vs .ralph/PROMPT.md |

### E2E Flows: 3/5 complete

| Flow | Status | Break Point |
|------|--------|-------------|
| Full lifecycle (init→execute→merge→cleanup) | COMPLETE | — |
| Execute→registry→cleanup | COMPLETE | — |
| Execute→merge branch discovery | COMPLETE | — |
| Wave unblocking (merge signal → execute) | BROKEN | check_wave_complete never called by execute |
| Peer visibility in execute path | BROKEN | generate_protocol_prompt_md doesn't call append_peer_visibility |

## Tech Debt

### Documentation Gaps (Non-blocking, but forcing partial status)

- **Phase 1 & 2 missing VERIFICATION.md** — 8 requirements forced to "partial" status
- **Phase 1 & 2 SUMMARYs lack YAML frontmatter** — requirements-completed not machine-readable
- **Phase 3 SUMMARYs have empty requirements-completed** — should list EXEC-01, EXEC-05
- **REQUIREMENTS.md checkboxes unchecked** for Phase 1-3 requirements despite completion

### Code Quality Items

- `.ralph/worktree-registry.json` not in `.gitignore` — risk of accidental commit with `git add -A`
- `scripts/ralph-execute.sh` step 7 references old `ralph-cleanup.sh` instead of `gsd-ralph cleanup`
- `status` command stub advertised in CLI usage (STAT-01 is v2, but stub confuses users)
- `worktree_path_for_plan` function in `lib/discovery.sh` is orphaned (unused by any command)
- `EXEC-01` requirement text says "worktree per plan" but implementation is "single branch sequential"

## Orphaned Requirements Analysis

Three requirements assigned to Phase 3 in REQUIREMENTS.md were never claimed by any Phase 3 plan:

| REQ-ID | Why Orphaned | Recommendation |
|--------|-------------|----------------|
| EXEC-06 | Terminal bell — simply missed during Phase 3 planning | Add to gap closure phase (trivial: `printf '\a'` at end of execute/merge) |
| PEER-01 | Architecture pivoted to sequential model — no peers | Move to v2 or mark out-of-scope (only relevant for parallel worktree mode) |
| PEER-02 | Same as PEER-01 | Same recommendation |

## Recommendations

### To close gaps:
1. **EXEC-06**: Add terminal bell to merge command completion and execute error paths (~5 lines of code)
2. **PEER-01/PEER-02**: Re-map to v2 requirements or mark as "deferred — requires parallel worktree mode"
3. **Phase 1 & 2 verification**: Create retroactive VERIFICATION.md files (tests exist, just need formal report)
4. **REQUIREMENTS.md**: Update checkboxes for all implemented requirements

### To resolve tech debt:
5. Add `.ralph/worktree-registry.json` to `.gitignore`
6. Update `scripts/ralph-execute.sh` step 7 to reference `gsd-ralph cleanup`
7. Remove or deprecate `worktree_path_for_plan` from `lib/discovery.sh`
8. Update `EXEC-01` requirement text to match branch-based implementation

---

_Audited: 2026-02-19T18:10:00Z_
_Auditor: Claude (audit-milestone workflow)_
